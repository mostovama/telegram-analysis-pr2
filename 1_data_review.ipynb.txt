{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "680ac1fd",
   "metadata": {},
   "source": [
    "## Homework #3. Crowdsourcing tools review\n",
    "#### Author: `<FIRST NAME> <SECOND NAME>`\n",
    "#### Total time spent on h/w (in minutes): `<number>`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "09b4e301",
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "d076df7c",
   "metadata": {},
   "outputs": [],
   "source": [
    "DIALOGS_MERGED_DATA_PATH = \"../data/merged_data/dialogs_data_all.csv\"\n",
    "DIALOGS_META_MERGED_DATA_PATH = \"../data/merged_data/dialogs_users_all.csv\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "6d0eddab",
   "metadata": {},
   "outputs": [],
   "source": [
    "df = pd.read_csv(DIALOGS_MERGED_DATA_PATH)\n",
    "df_meta = pd.read_csv(DIALOGS_META_MERGED_DATA_PATH)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "965d42ec",
   "metadata": {},
   "source": [
    "## Task 2.1\n",
    "## Messages data analysis"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "4672e8ce",
   "metadata": {},
   "outputs": [],
   "source": [
    "df.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "16776850",
   "metadata": {},
   "outputs": [],
   "source": [
    "df.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "d1bd96f3",
   "metadata": {},
   "outputs": [],
   "source": [
    "min(df[\"date\"]),max(df[\"date\"])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "2a1aafab",
   "metadata": {},
   "outputs": [],
   "source": [
    "df.groupby([\"type\"])[\"type\"].count()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "66a677a9",
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "df.groupby([\"type\"])[\"duration\"].sum()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "451dca5a",
   "metadata": {},
   "source": [
    "## Tasks to do:\n",
    "\n",
    "1. Define your telegram ID (https://www.alphr.com/telegram-find-user-id/)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "b251314f",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "90150527",
   "metadata": {},
   "source": [
    "2. Check on examples that the data you downloaded reflects your telegram messages. Make screenshots (insert your screenshots in this notebook) of 3 different messages in TG and related rows in your dataset here."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "9212d9cf",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "e3ce63b0",
   "metadata": {},
   "source": [
    "3. Find the longest audio message you've ever sent; what's its duration? Make its screenshot (insert your screenshots in this notebook)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "3c9980d4",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "78c034e4",
   "metadata": {},
   "source": [
    "4. Calculate numbers of send and received(s&r) messages."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "230ec33e",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "91fc6baf",
   "metadata": {},
   "source": [
    "5. Draw number of send and received(s&r) messages per day (x-axis - is date(from min(date) till max(date)), y-axis number of messages). There should be two lines: blue for received red for send."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "649d86ae",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "58e75c55",
   "metadata": {},
   "source": [
    "6. Draw a few diagrams to show distributions between post types in the time, a diagram showing the total amount of messages of each type."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "cfda6068",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "889f4f1e",
   "metadata": {},
   "source": [
    "7. Calculate top-10 people to whom you wrote the biggest amount of messages (name, amount of messages)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "0d9cd4ec",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "65ed05cc",
   "metadata": {},
   "source": [
    "8. Calculate top-10 people who wrote the biggest amount of messages to you (name, amount of messages)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "aabb5b73",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "86ed9232",
   "metadata": {},
   "source": [
    "## Task 2.2\n",
    "## Dialogs data analysis"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "313b23f0",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_meta.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "ef6f51b9",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_meta.head(10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "186f2f67",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_meta.groupby([\"type\"])[\"type\"].count()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c5b3d2d9",
   "metadata": {},
   "source": [
    "## Tasks to do:\n",
    "\n",
    "1. Find our TG group. Print its id and list of participants."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "def4abf2",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "d06390fc",
   "metadata": {},
   "source": [
    "2. Draw distribution of group sizes."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "2e6f96dc",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "b4f2d15e",
   "metadata": {},
   "source": [
    "3. Calculate top-10 the biggest groups/channels."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "5ed5cb7c",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "a016039e",
   "metadata": {},
   "source": [
    "4. Calculate the number of distinct user names you are connected to through any type of dialogue."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "f84557f5",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
